@page
@model Organizainador.Pages.CalendarioModel
@{
    ViewData["Title"] = "Mi Calendario";
}

<link rel="stylesheet" href="~/css/Calendario.css" />

@Html.AntiForgeryToken()

<div class="calendar-page-container">

    <div class="calendar-sidebar">
        <h3>@DateTime.Now.ToString("dd MMMM, yyyy")</h3>
        <p>@DateTime.Now.ToString("HH:mm")</p>

        <div id="daily-events-list" class="event-list">

            @if (Model.DailyEvents != null && Model.DailyEvents.Any())
            {
                @foreach (var evento in Model.DailyEvents)
                {
                    <div class="event-item" style="border-left-color: @evento.Color;">
                        <strong>@evento.Title</strong>
                        <p>
                            @evento.Start.ToString("HH:mm")
                            @(evento.End.HasValue ? " - " + evento.End.Value.ToString("HH:mm") : "")
                        </p>
                        <p>@evento.Description</p>
                    </div>
                }
            }
            else
            {
                <div class="event-item" style="border-left-color: #6c757d;">
                    <strong>No hay eventos</strong>
                    <p>No tienes actividades programadas para hoy.</p>
                </div>
            }

        </div>

        <button class="ver-mas-btn">Ver más</button>
    </div>

    <div class="calendar-main">
        <div id="calendar"></div>
    </div>

</div>

@section Scripts {
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/index.global.min.js'></script>

    <script src="~/js/Calendario.js"></script>
}